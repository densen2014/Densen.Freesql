@page "/"
@using Densen.Models.ids
@using System.Linq.Expressions

<PageTitle>测试RenderTableColumn</PageTitle>


    <TableAmePro TItem="AspNetUsersDto"
                 ShowDetailRowType=ShowDetailRowType.弹窗
                 Field="@nameof(AspNetUsers.TwoFactorEnabled)"
                 FieldType="typeof(int)"
                 FieldD="@nameof(AspNetUserRoles.UserId)"
                 ItemDetails="AspNetUserRoles"
                 ItemDetailsII="NullClass"
                 ItemDetailsIII="NullClass"
                 ShowColumnList
                 ShowFooter>
        @*<RowButtonTemplate>
                <Button Text="测试1" />
            </RowButtonTemplate>
            <TableToolbarTemplate>
                <Button Text="测试2" />
            </TableToolbarTemplate>
            <TableColumnsTemplate>
                <Button Text="测试3" />
            </TableColumnsTemplate>
            <DetailRowTemplate>
                <Button Text="测试4" />
            </DetailRowTemplate>
            <FooterTemplate>
                <TableFooterCell Text="测试5" />
            </FooterTemplate>*@
    </TableAmePro>


@code{
    [Inject]
    [NotNull]
    IFreeSql? fsql { get; set; }

    [Inject]
    [NotNull]
    ToastService? ToastService { get; set; }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        await base.OnAfterRenderAsync(firstRender);

        if (!firstRender) return;

        //var users = fsql.Select<AspNetUsers>().Where(a => a.Email == "test@test.com").IncludeMany(a => a.AspNetUserRoless, then => then.Include(c => c.AspNetRoless)).ToOne();

    }

}